<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>Sweet Donut AR Mascota</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar-nft.js"></script>

<style>
body { margin:0; overflow:hidden; }
#speech {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255,230,240,.95);
  padding: 12px 18px;
  border-radius: 20px;
  font-size: 18px;
  color: #7a2e4a;
  display: none;
}
</style>
</head>

<body>

<div id="speech"></div>

<audio id="bg" src="music.mp3" loop></audio>
<audio id="talk" src="talk.mp3"></audio>

<a-scene
  embedded
  arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false"
  vr-mode-ui="enabled: false">

  <!-- MARCADOR POR IMAGEN -->
  <a-nft
    type="nft"
    url="sweetdonut"
    smooth="true"
    smoothCount="10"
    smoothTolerance="0.01"
    smoothThreshold="5">

    <!-- MUÃ‘ECO DONA -->
    <a-entity
      geometry="primitive: torus; radius:0.4; radiusTubular:0.15"
      material="color:#ff8fcf; metalness:0.2; roughness:0.3"
      animation="property: rotation; to: 0 360 0; loop: true; dur: 3000"
      animation__float="property: position; dir: alternate; dur: 1500; easing: easeInOutSine; loop: true; to: 0 0.2 0"
      scale="1 1 1">
    </a-entity>

  </a-nft>

  <a-entity camera></a-entity>
</a-scene>

<script>
const frases = [
  "ðŸ© Â¡Las donas hacen feliz el dÃ­a!",
  "ðŸ˜‹ Comparte dulzura con Sweet Donut",
  "ðŸ’– Una dona siempre es buena idea",
  "ðŸŽ‰ Ven por tu Sweet Donut hoy"
];

const bg = document.getElementById("bg");
const talk = document.getElementById("talk");
const speech = document.getElementById("speech");

bg.play();

setInterval(() => {
  const msg = frases[Math.floor(Math.random()*frases.length)];
  speech.textContent = msg;
  speech.style.display = "block";
  talk.play();
  setTimeout(()=>speech.style.display="none", 3000);
}, 6000);
</script>

</body>
</html>
