<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>Sweet Donut AR Mascota</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar-nft.js"></script>

<style>
body { margin:0; overflow:hidden; font-family:sans-serif; }

#speech {
  position: fixed;
  bottom: 25px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255,230,240,0.95);
  padding: 14px 20px;
  border-radius: 25px;
  font-size: 18px;
  color: #7a2e4a;
  display: none;
  text-align: center;
}
</style>
</head>

<body>

<div id="speech"></div>

<audio id="bg" src="music.mp3" loop></audio>
<audio id="talk" src="talk.mp3"></audio>

<a-scene
  embedded
  arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false"
  vr-mode-ui="enabled: false">

  <!-- DETECCIÃ“N DEL LOGO -->
  <a-nft
    type="nft"
    url="sweetdonut"
    smooth="true"
    smoothCount="10"
    smoothTolerance="0.01"
    smoothThreshold="5">

    <!-- MASCOTA DONA -->
    <a-entity
      geometry="primitive: torus; radius:0.45; radiusTubular:0.18"
      material="color:#ff8fcf; roughness:0.25"
      animation="property: rotation; to: 0 360 0; loop: true; dur: 3500"
      animation__float="property: position; dir: alternate; dur: 1800; easing: easeInOutSine; loop: true; to: 0 0.25 0"
      scale="1 1 1">
    </a-entity>

  </a-nft>

  <a-entity camera></a-entity>
</a-scene>

<script>
const frases = [
  "ðŸ© Â¡Las donas saben mejor contigo!",
  "ðŸ˜‹ Date un gusto hoy",
  "ðŸ’– Sweet Donut te espera",
  "ðŸŽ‰ Comparte dulzura",
  "ðŸ© Una dona cambia el dÃ­a"
];

const bg = document.getElementById("bg");
const talk = document.getElementById("talk");
const speech = document.getElementById("speech");

bg.play();

setInterval(() => {
  const mensaje = frases[Math.floor(Math.random() * frases.length)];
  speech.textContent = mensaje;
  speech.style.display = "block";
  talk.play();
  setTimeout(() => speech.style.display = "none", 3500);
}, 6000);
</script>

</body>
</html>
